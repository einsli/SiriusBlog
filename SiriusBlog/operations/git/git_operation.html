<!DOCTYPE HTML>
<html lang="zh" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>git 版本控制 - Sirius运维开发笔记</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Sirius运维开发笔记">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../index.html"><strong aria-hidden="true">1.</strong> 简介</a></li><li class="chapter-item expanded "><a href="../../operations.html"><strong aria-hidden="true">2.</strong> 基础运维</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../operations/linux.html"><strong aria-hidden="true">2.1.</strong> linux</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../operations/linux/linux_base_config.html"><strong aria-hidden="true">2.1.1.</strong> linux 基础配置</a></li><li class="chapter-item expanded "><a href="../../operations/linux/linux_kernel_upgrade_online.html"><strong aria-hidden="true">2.1.2.</strong> linux 内核升级(线上)</a></li><li class="chapter-item expanded "><a href="../../operations/linux/linux_kernel_upgrade_offline.html"><strong aria-hidden="true">2.1.3.</strong> linux 内核升级(离线)</a></li><li class="chapter-item expanded "><a href="../../operations/linux/linux_supervisor_install.html"><strong aria-hidden="true">2.1.4.</strong> supervisord 安装配置</a></li><li class="chapter-item expanded "><a href="../../operations/linux/linux_ops_issues.html"><strong aria-hidden="true">2.1.5.</strong> linux 运维问题排查</a></li></ol></li><li class="chapter-item expanded "><a href="../../operations/docker.html"><strong aria-hidden="true">2.2.</strong> docker</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../operations/docker/linux_docker_installed.html"><strong aria-hidden="true">2.2.1.</strong> docker 安装与配置</a></li><li class="chapter-item expanded "><a href="../../operations/docker/linux_docker_compose_installed.html"><strong aria-hidden="true">2.2.2.</strong> docker-compose 安装</a></li><li class="chapter-item expanded "><a href="../../operations/docker/linux_docker_issues.html"><strong aria-hidden="true">2.2.3.</strong> docker 相关问题</a></li></ol></li><li class="chapter-item expanded "><a href="../../operations/redis.html"><strong aria-hidden="true">2.3.</strong> redis</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../operations/redis/redis_binary_installed.html"><strong aria-hidden="true">2.3.1.</strong> redis 二进制安装与配置</a></li><li class="chapter-item expanded "><a href="../../operations/redis/redis_docker_installed.html"><strong aria-hidden="true">2.3.2.</strong> redis docker-compose 安装与配置</a></li></ol></li><li class="chapter-item expanded "><a href="../../operations/git.html"><strong aria-hidden="true">2.4.</strong> git</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../operations/git/git_operation.html" class="active"><strong aria-hidden="true">2.4.1.</strong> git 版本控制</a></li><li class="chapter-item expanded "><a href="../../operations/git/git_clone_without_pass.html"><strong aria-hidden="true">2.4.2.</strong> git http 方式免密克隆代码</a></li><li class="chapter-item expanded "><a href="../../operations/git/git_dev_specification.html"><strong aria-hidden="true">2.4.3.</strong> git 开发管理规范</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../cloud_operations.html"><strong aria-hidden="true">3.</strong> 云原生</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../cloud_operations/monitor.html"><strong aria-hidden="true">3.1.</strong> 监控</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../cloud_operations/monitor/n9e_install.html"><strong aria-hidden="true">3.1.1.</strong> 夜莺监控安装配置</a></li><li class="chapter-item expanded "><a href="../../cloud_operations/monitor/n9e_ldap_config.html"><strong aria-hidden="true">3.1.2.</strong> 夜莺配置 ldap 单点登录</a></li><li class="chapter-item expanded "><a href="../../cloud_operations/monitor/alert_prom_sql.html"><strong aria-hidden="true">3.1.3.</strong> prometheus 监控告警 sql</a></li><li class="chapter-item expanded "><a href="../../cloud_operations/monitor/prometheus_domain_monitor.html"><strong aria-hidden="true">3.1.4.</strong> prometheus 监控域名</a></li></ol></li><li class="chapter-item expanded "><a href="../../cloud_operations/kubernetes.html"><strong aria-hidden="true">3.2.</strong> kubernetes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../cloud_operations/kubernetes/kubernetes_sa.html"><strong aria-hidden="true">3.2.1.</strong> kubernetes service account</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../cloud_operations/kubernetes/kubernetes_sa/k8s_sa_kubeconfig.html"><strong aria-hidden="true">3.2.1.1.</strong> kubernetees 基于 sa 创建 kubeconfig 访问(集群版)</a></li></ol></li><li class="chapter-item expanded "><a href="../../cloud_operations/kubernetes/kubernetes_issues.html"><strong aria-hidden="true">3.2.2.</strong> k8s 相关问题</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../cloud_operations/kubernetes/kubernetes_issues/k8s_secret_issues.html"><strong aria-hidden="true">3.2.2.1.</strong> kubernetes secret 相关问题</a></li></ol></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Sirius运维开发笔记</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/einsli/SiriusBlog" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/einsli/SiriusBlog/edit/main/src/operations/git/git_operation.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="git-版本控制"><a class="header" href="#git-版本控制">Git 版本控制</a></h1>
<h2 id="一git-常用命令"><a class="header" href="#一git-常用命令">一、git 常用命令</a></h2>
<h2 id="11-查看帮助"><a class="header" href="#11-查看帮助">1.1 查看帮助</a></h2>
<p>git 或者 git help 即可查看帮助信息</p>
<pre><code class="language-bash">git

git help
</code></pre>
<p>加上某一参数即可查看某一参数详细信息</p>
<p>如查看 add 信息</p>
<pre><code class="language-bash">git help add
</code></pre>
<p>文档内容显示过长，按 f 键可以向下翻页，b 想上翻页，按 q 退出</p>
<h2 id="12-git-配置"><a class="header" href="#12-git-配置">1.2 git 配置</a></h2>
<p>git 配置有三个范围</p>
<ul>
<li>系统范围</li>
<li>全局范围 global</li>
<li>项目范围</li>
</ul>
<p>一般用全局范围配置</p>
<h3 id="121-配置全局用户信息"><a class="header" href="#121-配置全局用户信息">1.2.1 配置全局用户信息</a></h3>
<pre><code class="language-bash">git config --global user.name &quot;einsli&quot;
git config --global user.email &quot;einsli@123.com&quot;
</code></pre>
<h3 id="122-查看配置信息"><a class="header" href="#122-查看配置信息">1.2.2 查看配置信息</a></h3>
<pre><code class="language-bash">git config --list
</code></pre>
<p>output 如下</p>
<pre><code>color.ui=true
user.name=einsli
user.email=einsli@123.com
credential.helper=cache  --timeout=200
filter.media.clean=git-media-clean %f
filter.media.smudge-git-media-smudge %f
alias.co=checkout
core.excludesfile=/Users/einsli/.gitignore_global
</code></pre>
<h3 id="123-重新配置用户名可使用-unset-命令"><a class="header" href="#123-重新配置用户名可使用-unset-命令">1.2.3 重新配置用户名，可使用 unset 命令</a></h3>
<pre><code class="language-bash">git config --unset --global user.name

git config --list
</code></pre>
<p>output 如下</p>
<pre><code>color.ui=true
user.email=einsli@123.com
credential.helper=cache  --timeout=200
filter.media.clean=git-media-clean %f
filter.media.smudge-git-media-smudge %f
alias.co=checkout
core.excludesfile=/Users/einsli/.gitignore_global
</code></pre>
<p>用户名选项已经移除</p>
<h3 id="124-git-输出主题颜色配置"><a class="header" href="#124-git-输出主题颜色配置">1.2.4 git 输出主题颜色配置</a></h3>
<pre><code class="language-bash">git config --global color.ui true
</code></pre>
<h3 id="125-产看-git-配置"><a class="header" href="#125-产看-git-配置">1.2.5 产看 git 配置</a></h3>
<p>git 配置会保存在当前用户主目录下面</p>
<pre><code class="language-bash">cat ~/.gitconfig
</code></pre>
<p>output 如下</p>
<pre><code>[color]
				ui = true
[user]
				email = einsli@123.com
				name = einsli
[core]
[web]
[credential]
				helper = cache --timeout=200
[filter &quot;media&quot;]
				clean = git-media-clean %f
				smudge = git-media-smudge %f
[alias]
				co = check out
[core]
				excludesfile = /Users/einsli/.gitignore_global
</code></pre>
<h3 id="126-git-别名设置"><a class="header" href="#126-git-别名设置">1.2.6 git 别名设置</a></h3>
<p>设置别名用 alias，比如给 check out 设置别名</p>
<pre><code class="language-bash">git config ==global alias.co check out
</code></pre>
<p>可以在系统级别设置别名, 当前平台 MacOS 平台，用户配置文件名为.bash_profile</p>
<pre><code class="language-bash">vim ~/.bash_profile

# 将 alias goc=&quot;git check out&quot; 添加到第一行即可

# 退出 并更新
souroce ~/.bash_profile
</code></pre>
<h3 id="127-忽略跟踪文件-全局"><a class="header" href="#127-忽略跟踪文件-全局">1.2.7 忽略跟踪文件 全局</a></h3>
<p>设置全局列表中忽略的文件</p>
<pre><code class="language-bash">git config --global core.excludesfile=~/.gitignore_global
</code></pre>
<h3 id="128-忽略跟踪文件-项目级别"><a class="header" href="#128-忽略跟踪文件-项目级别">1.2.8 忽略跟踪文件 项目级别</a></h3>
<p>在项目目录下，创建.gitignore</p>
<p>输入需要忽略的内容即可</p>
<p>比如忽略所有后缀名为.log 的文件</p>
<p>.gitngnore</p>
<pre><code>*.log
</code></pre>
<p>可参考如下地址给出的 gitignore 的模板</p>
<p><a href="https://github.com/github/gitignore">https://github.com/github/gitignore</a></p>
<h2 id="13-项目操作"><a class="header" href="#13-项目操作">1.3 项目操作</a></h2>
<h3 id="131-git-init"><a class="header" href="#131-git-init">1.3.1 git init</a></h3>
<p>例如当前目录有个 test-server，需要进行 git 追踪</p>
<pre><code>cd test-server
git init
</code></pre>
<p>output 如下</p>
<pre><code>Initialized empty Git repository in /Users/einsli/Desktop/server-test/.git
</code></pre>
<p>生成之后，git 会跟踪 server-test 目录下所有的目录变化，这样就可以使用 git 提供的版本控制</p>
<p>查看生成的.git 文件</p>
<pre><code class="language-bash">ls .git
</code></pre>
<p>output 如下</p>
<pre><code>HEAD        config        hooks    objects
branches    description   info      refs
</code></pre>
<p>如果不想用 git 追踪此项目，删除.git 文件即可</p>
<h3 id="132-git-commit"><a class="header" href="#132-git-commit">1.3.2 git commit</a></h3>
<p>项目提交</p>
<p>新创建一个 index.html 文件</p>
<p>提交前可查看当前状态信息</p>
<pre><code class="language-bash">git status
</code></pre>
<p>output 如下</p>
<pre><code>On branch master

Initial commit

Untracked files:
  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
				index.html

nothing added to commit but untracked files present(use &quot;git add&quot; to track)
</code></pre>
<p>commit 之前先执行 git add</p>
<pre><code class="language-bash">git add index.html
</code></pre>
<p>然后查看下状态</p>
<pre><code class="language-bash">git status
</code></pre>
<p>output 如下</p>
<pre><code>On branch master

Initial commit

Changes to be committed:
  (use &quot;git tm --cached &lt;file&gt;...&quot; to unstage)
		  new files: index.html
</code></pre>
<p>确认提交</p>
<pre><code class="language-bash">git commit -m '条件index.html'
</code></pre>
<p>output 如下</p>
<pre><code>1 file changed, 10 insertions(+)
create mode 100644 index.html
</code></pre>
<p>然后查看下状态</p>
<pre><code class="language-bash">git status
</code></pre>
<p>output 如下</p>
<pre><code>On branch master
nothing to commit, working directory clean1.
</code></pre>
<h3 id="133-git-log"><a class="header" href="#133-git-log">1.3.3 git log</a></h3>
<p>查看用户操作记录</p>
<pre><code class="language-bash">git log
git log --oneline # 每行显示一次提交
</code></pre>
<p>output 如下</p>
<pre><code>commit dagdgakhregjakgjkf7423gdgdjk4334gue61
Author: einsli &lt;einsli@123.com&gt;
Date: Sun Nov 11:07:00 2020 +0800
		添加index.html文件
</code></pre>
<h3 id="134-git-diff"><a class="header" href="#134-git-diff">1.3.4 git diff</a></h3>
<p>查看文件修改前和修改后的区别</p>
<p>比较的文件为工作区暂与存区(git add 后里面的内容)里面的内容</p>
<pre><code class="language-bash">git diff index.html
</code></pre>
<p>如果想比较 respository 与暂存区里面的内容，则需要输入下面命令</p>
<pre><code class="language-bash">git diff --staged
</code></pre>
<h3 id="135-git-mv"><a class="header" href="#135-git-mv">1.3.5 git mv</a></h3>
<p>重命名 git 已经追踪的文件</p>
<p>方法一</p>
<p>例如:</p>
<p>当前目录下新建 style.css，添加内容后并提交</p>
<pre><code class="language-bash">git add style.css
git commit -m &quot;添加style.css&quot;
</code></pre>
<p>在可视化界面将 style.css 重命名为 them.css</p>
<p>查看当前状态</p>
<pre><code class="language-bash">git status
</code></pre>
<p>output 如下</p>
<pre><code>On branch master
Changes not stages for commit:
		(use &quot;git add/rm &lt;file&gt;...&quot; to update what will be committed)
		(use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
				deleted; sytle.css
Untracked files:
		(use &quot;git add &lt;file&gt;...&quot; to include in what will will be committed)
				theme.css
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</code></pre>
<p>由此看来，git 不知道通过可视化界面重命名了此文件</p>
<p>可以这样执行</p>
<pre><code>git rm style.css
# output
# rm 'style.css'
git add theme.css
</code></pre>
<p>查看状态</p>
<pre><code class="language-bash">git status
</code></pre>
<pre><code>Changes to be committed:
		(use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)
					renamed: style.css -&gt;them.css
</code></pre>
<p>然后提交即可</p>
<pre><code class="language-bash">git commit -m &quot;重命名style.css为them.css&quot;
</code></pre>
<p>方法二</p>
<p>git mv</p>
<pre><code class="language-bash">git mv theme.css einsli-theme.css
</code></pre>
<p>然后产看状态</p>
<pre><code class="language-bash">git status
</code></pre>
<p>output 如下</p>
<pre><code class="language-bash">Changes to be committed:
		(use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)
					renamed: theme.css -&gt;einsli-them.css
</code></pre>
<p>然后提交即可</p>
<p><strong>git 不会跟踪空白的目录</strong></p>
<p>在当前目录下创建 css 文件</p>
<pre><code class="language-bash">mkdir css
</code></pre>
<p>查看状态</p>
<pre><code class="language-bash">git status
</code></pre>
<p>output 如下</p>
<pre><code class="language-bash">On branch master
Nothing to commit, working directory clean
</code></pre>
<h3 id="136-git-rm"><a class="header" href="#136-git-rm">1.3.6 git rm</a></h3>
<p>删除文件有两种方法</p>
<p>方法一</p>
<p>将文件通过可视化命令直接删除</p>
<p>方法二</p>
<p>git rm 文件名</p>
<p>删除单个文件</p>
<pre><code class="language-bash">git rm einsli-theme.css
</code></pre>
<h3 id="137-恢复放放或修改的文件"><a class="header" href="#137-恢复放放或修改的文件">1.3.7 恢复放放或修改的文件</a></h3>
<p>比如删除 index.html</p>
<pre><code class="language-bash">git rm index.html
</code></pre>
<p>删除后我们想恢复，可使用 git checkout 命令</p>
<pre><code class="language-bash">git checkout HEAD -- index.html
</code></pre>
<p><strong>注</strong>: HEAD 表示当前提交，— 表示当前分支， index.html 表示要恢复的文件</p>
<p>删除之后进行了提交怎么恢复文件？</p>
<p>比如删除了 index.html，并进行了提交，要恢复 index.html 改怎么做?</p>
<p>需要把 index.html 恢复到上一次提交的状态</p>
<pre><code class="language-bash">git checkout HEAD^ -- index.html
</code></pre>
<p><strong>注</strong>: HEAD^ 表示最近一次提交的上一次提交，HEAD^^表示最近一次提交的上两次提交</p>
<h3 id="138-git-revert"><a class="header" href="#138-git-revert">1.3.8 git revert</a></h3>
<p>恢复文件的历史版本</p>
<p>比如新添加了 bootstrap 框架，并进行了提交，后面不想用，想恢复之前的状态</p>
<pre><code class="language-bash">git log --oneline
</code></pre>
<p>output 如下</p>
<pre><code>b6b86f 添加了JQuery 1.2.1
bb95e87 添加了Bootstrap框架
aa5673a 恢复了index.html
</code></pre>
<p>不想用 boorstrap 框架，可以执行以下操作</p>
<pre><code class="language-bash">git revert bb95e87
</code></pre>
<p>会弹出编辑器，添加描述内容或者直接保存后即可</p>
<p>然后在查看下提交日志</p>
<pre><code class="language-bash">git log --oneline
</code></pre>
<p>output 如下</p>
<pre><code>aaab1c0 Revert &quot;添加了Bootstrap框架&quot;
b6b86f 添加了JQuery 1.2.1
bb95e87 添加了Bootstrap框架
aa5673a 恢复了index.html
</code></pre>
<h3 id="139-git-reset"><a class="header" href="#139-git-reset">1.3.9 git reset</a></h3>
<p>提交方式</p>
<ul>
<li>—soft 软重置：不会影响工作区与暂存区</li>
<li>—hard ：他会把工作区与暂存区恢复到某个工作状态</li>
<li>mixed：会把暂存区里面的恢复到某个状态</li>
</ul>
<p>展示:</p>
<p>查看提交记录</p>
<pre><code class="language-bash">git log --oneline
</code></pre>
<p>output 如下</p>
<pre><code>aaab1c0 Revert &quot;添加了Bootstrap框架&quot;
b6b86f 添加了JQuery 1.2.1
bb95e87 添加了Bootstrap框架
aa5673a 恢复了index.html
</code></pre>
<p>使用 git reset</p>
<p>— soft</p>
<pre><code class="language-bash">git reset --soft b6b86
</code></pre>
<p>提交后会覆盖掉 aaab1c0 这次提交</p>
<p>— mixed</p>
<p>执行后暂存区里面的内容不存在了</p>
<p><strong>注</strong> 与—soft 项目，少了类似 git add 的操作</p>
<p>—hard</p>
<p>相当于直接重置到 b6b86 提交后的状态</p>
<h3 id="1310-git-stash"><a class="header" href="#1310-git-stash">1.3.10 git stash</a></h3>
<p>可以把修改暂时存到一个地方，保存工作进度</p>
<p>例如当前目录创建了一个新的 txt 文档，但是提交的时候，不想将当前状态提交</p>
<pre><code class="language-bash">git stash save &quot;修改了txt文档&quot;
</code></pre>
<p>查看保存的工作进度</p>
<pre><code class="language-bash">git stash list
</code></pre>
<p>output 如下</p>
<pre><code>stash{0}: On text-server: 修改了txt文档
</code></pre>
<p>查看保存工作进度与当前工作进度有什么区别</p>
<pre><code class="language-bash">git stash show -p stash{0}
</code></pre>
<p><strong>注</strong> -p 以补丁的方式查看 stash{0}为 stash 工作代号</p>
<p>恢复工作进度</p>
<pre><code>git stash apply stash{0}
</code></pre>
<p><strong>注</strong>：stash{0}为 stash 代号</p>
<p>删除工作进度</p>
<pre><code>git stash drop stash{0}
</code></pre>
<p><strong>注</strong> stash{0}为工作代号</p>
<h3 id="1311-git-log"><a class="header" href="#1311-git-log">1.3.11 git log</a></h3>
<p>查看提交的日志</p>
<p>查看详细信息</p>
<pre><code class="language-bash">git long
</code></pre>
<p>显示简单的日志列表</p>
<pre><code class="language-bash">git log --oneline
</code></pre>
<p>控制输出的行数，如显示最近的 5 条</p>
<pre><code class="language-bash">git log --oneline -5
</code></pre>
<p>可以查看指定作者的提交</p>
<pre><code class="language-bash">git log --online --author=&quot;einsli&quot;
</code></pre>
<p>git log 也支持 grep 语法</p>
<p>比如显示关于 index.html 的提交</p>
<pre><code class="language-bash">git log --oneline --grep=&quot;index.html&quot;
</code></pre>
<p>也可以指定日志</p>
<p>比如指定在 2020 年 11 月 1 号之前的提交</p>
<pre><code class="language-bash">git log --oneline --before=&quot;2020-11-01&quot;
</code></pre>
<p>找出一个礼拜之前的提交</p>
<pre><code class="language-bash">git log --oneline --before=&quot;1 week&quot;
</code></pre>
<p>找出三天前的提交</p>
<pre><code class="language-bash">git log --oneline --before=&quot;3 days&quot;
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../operations/git.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../operations/git/git_clone_without_pass.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../operations/git.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../operations/git/git_clone_without_pass.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../language.js"></script>


    </div>
    </body>
</html>
